<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>code.apps.http_samples API documentation</title>
<meta name="description" content="Module http_samples.py â€¦" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>code.apps.http_samples</code></h1>
</header>
<section id="section-intro">
<p>Module http_samples.py</p>
<h2 id="remarks">Remarks</h2>
<p>This module contains the following auxiliary classes: <code><a title="code.apps.http_samples.SimpleRequestHandler" href="#code.apps.http_samples.SimpleRequestHandler">SimpleRequestHandler</a></code> and
<code><a title="code.apps.http_samples.CRUDRequestHandler" href="#code.apps.http_samples.CRUDRequestHandler">CRUDRequestHandler</a></code>. The first class creates a simple HTTP handler which
handles just the <code>GET</code> request. The second, instead, handles all the <code>CRUD</code>
requests.
In both cases, the seervers and the clients run in different threads.
This is to allow servers and clients to run in parallel so the clients can issue
their requests to the related servers.
When the clients finish their task, the
related threads terminate.
On the other hand, because the servers run in an
endless loop, the related threads must be shutdown from outside so the loop
terminates and the control goes back to the <code>http_menu.py</code> module.</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#39;&#39;&#39; 
Module http_samples.py

Remarks
------
This module contains the following auxiliary classes: `SimpleRequestHandler` and
`CRUDRequestHandler`. The first class creates a simple HTTP handler which
handles just the `GET` request. The second, instead, handles all the `CRUD`
requests.  In both cases, the seervers and the clients run in different threads.
This is to allow servers and clients to run in parallel so the clients can issue
their requests to the related servers.  When the clients finish their task, the
related threads terminate.  On the other hand, because the servers run in an
endless loop, the related threads must be shutdown from outside so the loop
terminates and the control goes back to the `http_menu.py` module.    
&#39;&#39;&#39;
from http.server import HTTPServer, BaseHTTPRequestHandler
from threading import Thread
from http.client import HTTPConnection
from time import sleep
import requests

class SimpleRequestHandler(BaseHTTPRequestHandler):
    &#39;&#39;&#39;  
    This class defines a `SimpleHTTPRequestHandler` that
    subclasses `BaseHTTPRequestHandler` from the `http.server` module. The
    `do_GET` method is called whenever the server receives a `GET` request, and it sends a fixed response to the client with a status
    code of `200 (OK)` and the body &#34;Hello, World!&#34;.

    &#39;&#39;&#39;

    def _send_response(self, message):
        &#34;&#34;&#34;
        Echoes back the message sent by the client.
        
        Parameters
        ----------
        message : str 
            The message sent by the client end echoed back by the server.
  
        &#34;&#34;&#34;
        self.send_response(200)
        self.send_header(&#39;Content-type&#39;, &#39;text/html&#39;)
        self.end_headers()
        self.wfile.write(bytes(message, &#34;utf8&#34;))

    def do_GET(self):
        &#34;&#34;&#34;
        Handles the `GET` requests
        &#34;&#34;&#34;
        message = &#34;Hello, World!&#34;
        self._send_response(message)

class CRUDRequestHandler(BaseHTTPRequestHandler):
    &#34;&#34;&#34;
    This class defines a `CRUDRequestHandler` that subclasses
    `BaseHTTPRequestHandler` from the `http.server` module. 
    The CRUDHandler class is a subclass of BaseHTTPRequestHandler and overrides the following methods to handle different HTTP requests:

    - `do_GET`: handles GET requests
    - `do_POST`: handles POST requests
    - `do_PUT`: handles PUT requests
    - `do_DELETE`: handles DELETE requests

    Each of these methods sends a response to the client with a 200 status code and a message indicating the type of request that was received.
      
    &#34;&#34;&#34;

    def do_GET(self):
        &#34;&#34;&#34;
        Handles `GET` requests.
        &#34;&#34;&#34;
        self.send_response(200)
        self.send_header(&#39;Content-Type&#39;, &#39;text/plain&#39;)
        self.end_headers()
        self.wfile.write(b&#39;You have sent a GET request.&#39;)

    def do_POST(self):
        &#34;&#34;&#34;
        Handles `POST` requests.
        &#34;&#34;&#34;
        self.send_response(200)
        self.send_header(&#39;Content-Type&#39;, &#39;text/plain&#39;)
        self.end_headers()
        self.wfile.write(b&#39;You have sent a POST request.&#39;)

    def do_PUT(self):
        &#34;&#34;&#34;
        Handles `PUT` requests.
        &#34;&#34;&#34;
        self.send_response(200)
        self.send_header(&#39;Content-Type&#39;, &#39;text/plain&#39;)
        self.end_headers()
        self.wfile.write(b&#39;You have sent a PUT request.&#39;)

    def do_DELETE(self):
        &#34;&#34;&#34;
        Handles `DELETE` requests.
        &#34;&#34;&#34;
        self.send_response(200)
        self.send_header(&#39;Content-Type&#39;, &#39;text/plain&#39;)
        self.end_headers()
        self.wfile.write(b&#39;You have sent a DELETE request.&#39;)

    
class HttpSamples:

    def __init__(self):
        &#39;&#39;&#39; Initialize the class `HttpSAmples` instance. &#39;&#39;&#39;
        self.server_address = (&#34;localhost&#34;, 8000)
        self.server = None
        self.host = &#34;localhost&#34;
        self.port = 8000
      
    # **** Simple server **** 

    # Run simple server.
    def run_simple_server(self):
        &#34;&#34;&#34;
        Starts the HTTP simple server. 
        
        Remarks
        -----=
        This function runs in a thread until the thread is terminated by the `simple_http_server` calling function. 

        &#34;&#34;&#34;
        self.server = HTTPServer(self.server_address, SimpleRequestHandler)
        self.server.serve_forever()
      

    # Run simple client. 
    def run_simple_client(self):
        &#34;&#34;&#34;
        Issues a `GET` request to the server, retrieves the response from the server, and displays it.  

        Remarks
        -----=
        This function runs in a thread until it completes its task and the thread is terminated. 

        &#34;&#34;&#34;
        conn = HTTPConnection(self.host, self.port)
        conn.request(&#39;GET&#39;, &#39;/&#39;)
        response = conn.getresponse()
        print(response.read().decode())
        

    def simple_http_server(self):
        &#34;&#34;&#34;
        Starts the server and client threads.   

        Remarks
        -----=
        This function sets a delay of 3 sec to allow the client thread 
        to print to the console the response from the server.

        It also execute a while loop waiting for the client thread to terminate. If you change the delay, to 2 sec for example, the message `Client thread still running` is displayed several times until the client thread terminates. 
        
        After that the function terminate the server thread shutting its forever loop, so allowing the control to go back to the `http_menu.py` module.   

        &#34;&#34;&#34;

        server_thread = Thread(target=self.run_simple_server) 
        server_thread.start()  
        client_thread = Thread(target=self.run_simple_client)
        client_thread.start()
        
        # This delay is to allow the client thread 
        # to print to the console. 
        sleep(3)

        while client_thread.is_alive():
            # To experiment: print this in a loop by 
            # setting the sleep time to 2 seconds.
            print(&#39;Client thread still running&#39;)
        
        print(&#39;Client thread completed. Terminate the server thread also.  &#39;)
        # Terminate the server thread. 
        self.server.shutdown()
        
        
    # **** CRUD server **** 

    # Run CRUD server.
    def run_crud_server(self):
        &#34;&#34;&#34;
        Starts the HTTP CRUD server. 
        
        Remarks
        -----=
        This function runs in a thread until the thread is terminated by the `crud_http_server` calling function. 

        &#34;&#34;&#34;
        self.server = HTTPServer(self.server_address, CRUDRequestHandler)
        print(f&#39;Starting HTTP CRUD server on port 8000...&#39;)
        self.server.serve_forever()
       
    # Run CRUD client. 
    def run_crud_client(self):
        &#34;&#34;&#34;
        Issues a `CRUD` requests to the server, retrieves the response from the server, and displays them.  

        Remarks
        -----
        This function runs in a thread until it completes its task and the thread is terminated. 

        &#34;&#34;&#34;
        # Send a GET request
        r = requests.get(&#39;http://localhost:8000&#39;)
        assert r.text == &#39;You have sent a GET request.&#39;
        print(f&#39;Request: {r.text}&#39;) 

        # Send a POST request
        r = requests.post(&#39;http://localhost:8000&#39;)
        assert r.text == &#39;You have sent a POST request.&#39;
        print(f&#39;Request: {r.text}&#39;) 

        # Send a PUT request
        r = requests.put(&#39;http://localhost:8000&#39;)
        assert r.text == &#39;You have sent a PUT request.&#39;
        print(f&#39;Request: {r.text}&#39;)

        # Send a DELETE request
        r = requests.delete(&#39;http://localhost:8000&#39;)
        assert r.text == &#39;You have sent a DELETE request.&#39;
        print(f&#39;Request: {r.text}&#39;)

        
    def crud_http_server(self):
        &#34;&#34;&#34;
        Starts the server and client threads.   

        Remarks
        -----
        This function sets a delay of 10 sec to allow the client thread 
        to print to the console the responses from the server.

        It also execute a while loop waiting for the client thread to terminate. If you change the delay, to 7 sec for example, the message `Client thread still running` is displayed several times until the client thread terminates. 
        
        After that the function terminate the server thread shutting its forever loop, so allowing the control to go back to the `http_menu.py` module.   

        &#34;&#34;&#34;
        server_thread = Thread(target=self.run_crud_server) 
        server_thread.start()  
        client_thread = Thread(target=self.run_crud_client)
        client_thread.start()
        
        # This delay is to allow the client thread 
        # to print to the console. 
        sleep(10)

        while client_thread.is_alive():
            # To experiment: print this in a loop by 
            # setting the sleep time to 7 seconds.
            print(&#39;Client thread still running&#39;)
        
        print(&#39;Client thread completed. Terminate the server thread also.  &#39;)
        # Terminate the server thread. 
        self.server.shutdown()
    </code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="code.apps.http_samples.CRUDRequestHandler"><code class="flex name class">
<span>class <span class="ident">CRUDRequestHandler</span></span>
<span>(</span><span>request, client_address, server)</span>
</code></dt>
<dd>
<div class="desc"><p>This class defines a <code><a title="code.apps.http_samples.CRUDRequestHandler" href="#code.apps.http_samples.CRUDRequestHandler">CRUDRequestHandler</a></code> that subclasses
<code>BaseHTTPRequestHandler</code> from the <code>http.server</code> module.
The CRUDHandler class is a subclass of BaseHTTPRequestHandler and overrides the following methods to handle different HTTP requests:</p>
<ul>
<li><code>do_GET</code>: handles GET requests</li>
<li><code>do_POST</code>: handles POST requests</li>
<li><code>do_PUT</code>: handles PUT requests</li>
<li><code>do_DELETE</code>: handles DELETE requests</li>
</ul>
<p>Each of these methods sends a response to the client with a 200 status code and a message indicating the type of request that was received.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class CRUDRequestHandler(BaseHTTPRequestHandler):
    &#34;&#34;&#34;
    This class defines a `CRUDRequestHandler` that subclasses
    `BaseHTTPRequestHandler` from the `http.server` module. 
    The CRUDHandler class is a subclass of BaseHTTPRequestHandler and overrides the following methods to handle different HTTP requests:

    - `do_GET`: handles GET requests
    - `do_POST`: handles POST requests
    - `do_PUT`: handles PUT requests
    - `do_DELETE`: handles DELETE requests

    Each of these methods sends a response to the client with a 200 status code and a message indicating the type of request that was received.
      
    &#34;&#34;&#34;

    def do_GET(self):
        &#34;&#34;&#34;
        Handles `GET` requests.
        &#34;&#34;&#34;
        self.send_response(200)
        self.send_header(&#39;Content-Type&#39;, &#39;text/plain&#39;)
        self.end_headers()
        self.wfile.write(b&#39;You have sent a GET request.&#39;)

    def do_POST(self):
        &#34;&#34;&#34;
        Handles `POST` requests.
        &#34;&#34;&#34;
        self.send_response(200)
        self.send_header(&#39;Content-Type&#39;, &#39;text/plain&#39;)
        self.end_headers()
        self.wfile.write(b&#39;You have sent a POST request.&#39;)

    def do_PUT(self):
        &#34;&#34;&#34;
        Handles `PUT` requests.
        &#34;&#34;&#34;
        self.send_response(200)
        self.send_header(&#39;Content-Type&#39;, &#39;text/plain&#39;)
        self.end_headers()
        self.wfile.write(b&#39;You have sent a PUT request.&#39;)

    def do_DELETE(self):
        &#34;&#34;&#34;
        Handles `DELETE` requests.
        &#34;&#34;&#34;
        self.send_response(200)
        self.send_header(&#39;Content-Type&#39;, &#39;text/plain&#39;)
        self.end_headers()
        self.wfile.write(b&#39;You have sent a DELETE request.&#39;)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>http.server.BaseHTTPRequestHandler</li>
<li>socketserver.StreamRequestHandler</li>
<li>socketserver.BaseRequestHandler</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="code.apps.http_samples.CRUDRequestHandler.do_DELETE"><code class="name flex">
<span>def <span class="ident">do_DELETE</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Handles <code>DELETE</code> requests.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def do_DELETE(self):
    &#34;&#34;&#34;
    Handles `DELETE` requests.
    &#34;&#34;&#34;
    self.send_response(200)
    self.send_header(&#39;Content-Type&#39;, &#39;text/plain&#39;)
    self.end_headers()
    self.wfile.write(b&#39;You have sent a DELETE request.&#39;)</code></pre>
</details>
</dd>
<dt id="code.apps.http_samples.CRUDRequestHandler.do_GET"><code class="name flex">
<span>def <span class="ident">do_GET</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Handles <code>GET</code> requests.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def do_GET(self):
    &#34;&#34;&#34;
    Handles `GET` requests.
    &#34;&#34;&#34;
    self.send_response(200)
    self.send_header(&#39;Content-Type&#39;, &#39;text/plain&#39;)
    self.end_headers()
    self.wfile.write(b&#39;You have sent a GET request.&#39;)</code></pre>
</details>
</dd>
<dt id="code.apps.http_samples.CRUDRequestHandler.do_POST"><code class="name flex">
<span>def <span class="ident">do_POST</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Handles <code>POST</code> requests.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def do_POST(self):
    &#34;&#34;&#34;
    Handles `POST` requests.
    &#34;&#34;&#34;
    self.send_response(200)
    self.send_header(&#39;Content-Type&#39;, &#39;text/plain&#39;)
    self.end_headers()
    self.wfile.write(b&#39;You have sent a POST request.&#39;)</code></pre>
</details>
</dd>
<dt id="code.apps.http_samples.CRUDRequestHandler.do_PUT"><code class="name flex">
<span>def <span class="ident">do_PUT</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Handles <code>PUT</code> requests.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def do_PUT(self):
    &#34;&#34;&#34;
    Handles `PUT` requests.
    &#34;&#34;&#34;
    self.send_response(200)
    self.send_header(&#39;Content-Type&#39;, &#39;text/plain&#39;)
    self.end_headers()
    self.wfile.write(b&#39;You have sent a PUT request.&#39;)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="code.apps.http_samples.HttpSamples"><code class="flex name class">
<span>class <span class="ident">HttpSamples</span></span>
</code></dt>
<dd>
<div class="desc"><p>Initialize the class <code>HttpSAmples</code> instance.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class HttpSamples:

    def __init__(self):
        &#39;&#39;&#39; Initialize the class `HttpSAmples` instance. &#39;&#39;&#39;
        self.server_address = (&#34;localhost&#34;, 8000)
        self.server = None
        self.host = &#34;localhost&#34;
        self.port = 8000
      
    # **** Simple server **** 

    # Run simple server.
    def run_simple_server(self):
        &#34;&#34;&#34;
        Starts the HTTP simple server. 
        
        Remarks
        -----=
        This function runs in a thread until the thread is terminated by the `simple_http_server` calling function. 

        &#34;&#34;&#34;
        self.server = HTTPServer(self.server_address, SimpleRequestHandler)
        self.server.serve_forever()
      

    # Run simple client. 
    def run_simple_client(self):
        &#34;&#34;&#34;
        Issues a `GET` request to the server, retrieves the response from the server, and displays it.  

        Remarks
        -----=
        This function runs in a thread until it completes its task and the thread is terminated. 

        &#34;&#34;&#34;
        conn = HTTPConnection(self.host, self.port)
        conn.request(&#39;GET&#39;, &#39;/&#39;)
        response = conn.getresponse()
        print(response.read().decode())
        

    def simple_http_server(self):
        &#34;&#34;&#34;
        Starts the server and client threads.   

        Remarks
        -----=
        This function sets a delay of 3 sec to allow the client thread 
        to print to the console the response from the server.

        It also execute a while loop waiting for the client thread to terminate. If you change the delay, to 2 sec for example, the message `Client thread still running` is displayed several times until the client thread terminates. 
        
        After that the function terminate the server thread shutting its forever loop, so allowing the control to go back to the `http_menu.py` module.   

        &#34;&#34;&#34;

        server_thread = Thread(target=self.run_simple_server) 
        server_thread.start()  
        client_thread = Thread(target=self.run_simple_client)
        client_thread.start()
        
        # This delay is to allow the client thread 
        # to print to the console. 
        sleep(3)

        while client_thread.is_alive():
            # To experiment: print this in a loop by 
            # setting the sleep time to 2 seconds.
            print(&#39;Client thread still running&#39;)
        
        print(&#39;Client thread completed. Terminate the server thread also.  &#39;)
        # Terminate the server thread. 
        self.server.shutdown()
        
        
    # **** CRUD server **** 

    # Run CRUD server.
    def run_crud_server(self):
        &#34;&#34;&#34;
        Starts the HTTP CRUD server. 
        
        Remarks
        -----=
        This function runs in a thread until the thread is terminated by the `crud_http_server` calling function. 

        &#34;&#34;&#34;
        self.server = HTTPServer(self.server_address, CRUDRequestHandler)
        print(f&#39;Starting HTTP CRUD server on port 8000...&#39;)
        self.server.serve_forever()
       
    # Run CRUD client. 
    def run_crud_client(self):
        &#34;&#34;&#34;
        Issues a `CRUD` requests to the server, retrieves the response from the server, and displays them.  

        Remarks
        -----
        This function runs in a thread until it completes its task and the thread is terminated. 

        &#34;&#34;&#34;
        # Send a GET request
        r = requests.get(&#39;http://localhost:8000&#39;)
        assert r.text == &#39;You have sent a GET request.&#39;
        print(f&#39;Request: {r.text}&#39;) 

        # Send a POST request
        r = requests.post(&#39;http://localhost:8000&#39;)
        assert r.text == &#39;You have sent a POST request.&#39;
        print(f&#39;Request: {r.text}&#39;) 

        # Send a PUT request
        r = requests.put(&#39;http://localhost:8000&#39;)
        assert r.text == &#39;You have sent a PUT request.&#39;
        print(f&#39;Request: {r.text}&#39;)

        # Send a DELETE request
        r = requests.delete(&#39;http://localhost:8000&#39;)
        assert r.text == &#39;You have sent a DELETE request.&#39;
        print(f&#39;Request: {r.text}&#39;)

        
    def crud_http_server(self):
        &#34;&#34;&#34;
        Starts the server and client threads.   

        Remarks
        -----
        This function sets a delay of 10 sec to allow the client thread 
        to print to the console the responses from the server.

        It also execute a while loop waiting for the client thread to terminate. If you change the delay, to 7 sec for example, the message `Client thread still running` is displayed several times until the client thread terminates. 
        
        After that the function terminate the server thread shutting its forever loop, so allowing the control to go back to the `http_menu.py` module.   

        &#34;&#34;&#34;
        server_thread = Thread(target=self.run_crud_server) 
        server_thread.start()  
        client_thread = Thread(target=self.run_crud_client)
        client_thread.start()
        
        # This delay is to allow the client thread 
        # to print to the console. 
        sleep(10)

        while client_thread.is_alive():
            # To experiment: print this in a loop by 
            # setting the sleep time to 7 seconds.
            print(&#39;Client thread still running&#39;)
        
        print(&#39;Client thread completed. Terminate the server thread also.  &#39;)
        # Terminate the server thread. 
        self.server.shutdown()</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="code.apps.http_samples.HttpSamples.crud_http_server"><code class="name flex">
<span>def <span class="ident">crud_http_server</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Starts the server and client threads.
</p>
<h2 id="remarks">Remarks</h2>
<p>This function sets a delay of 10 sec to allow the client thread
to print to the console the responses from the server.</p>
<p>It also execute a while loop waiting for the client thread to terminate. If you change the delay, to 7 sec for example, the message <code>Client thread still running</code> is displayed several times until the client thread terminates. </p>
<p>After that the function terminate the server thread shutting its forever loop, so allowing the control to go back to the <code>http_menu.py</code> module.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def crud_http_server(self):
    &#34;&#34;&#34;
    Starts the server and client threads.   

    Remarks
    -----
    This function sets a delay of 10 sec to allow the client thread 
    to print to the console the responses from the server.

    It also execute a while loop waiting for the client thread to terminate. If you change the delay, to 7 sec for example, the message `Client thread still running` is displayed several times until the client thread terminates. 
    
    After that the function terminate the server thread shutting its forever loop, so allowing the control to go back to the `http_menu.py` module.   

    &#34;&#34;&#34;
    server_thread = Thread(target=self.run_crud_server) 
    server_thread.start()  
    client_thread = Thread(target=self.run_crud_client)
    client_thread.start()
    
    # This delay is to allow the client thread 
    # to print to the console. 
    sleep(10)

    while client_thread.is_alive():
        # To experiment: print this in a loop by 
        # setting the sleep time to 7 seconds.
        print(&#39;Client thread still running&#39;)
    
    print(&#39;Client thread completed. Terminate the server thread also.  &#39;)
    # Terminate the server thread. 
    self.server.shutdown()</code></pre>
</details>
</dd>
<dt id="code.apps.http_samples.HttpSamples.run_crud_client"><code class="name flex">
<span>def <span class="ident">run_crud_client</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Issues a <code>CRUD</code> requests to the server, retrieves the response from the server, and displays them.
</p>
<h2 id="remarks">Remarks</h2>
<p>This function runs in a thread until it completes its task and the thread is terminated.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def run_crud_client(self):
    &#34;&#34;&#34;
    Issues a `CRUD` requests to the server, retrieves the response from the server, and displays them.  

    Remarks
    -----
    This function runs in a thread until it completes its task and the thread is terminated. 

    &#34;&#34;&#34;
    # Send a GET request
    r = requests.get(&#39;http://localhost:8000&#39;)
    assert r.text == &#39;You have sent a GET request.&#39;
    print(f&#39;Request: {r.text}&#39;) 

    # Send a POST request
    r = requests.post(&#39;http://localhost:8000&#39;)
    assert r.text == &#39;You have sent a POST request.&#39;
    print(f&#39;Request: {r.text}&#39;) 

    # Send a PUT request
    r = requests.put(&#39;http://localhost:8000&#39;)
    assert r.text == &#39;You have sent a PUT request.&#39;
    print(f&#39;Request: {r.text}&#39;)

    # Send a DELETE request
    r = requests.delete(&#39;http://localhost:8000&#39;)
    assert r.text == &#39;You have sent a DELETE request.&#39;
    print(f&#39;Request: {r.text}&#39;)</code></pre>
</details>
</dd>
<dt id="code.apps.http_samples.HttpSamples.run_crud_server"><code class="name flex">
<span>def <span class="ident">run_crud_server</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Starts the HTTP CRUD server. </p>
<h2 id="remarks">Remarks</h2>
<p>This function runs in a thread until the thread is terminated by the <code>crud_http_server</code> calling function.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def run_crud_server(self):
    &#34;&#34;&#34;
    Starts the HTTP CRUD server. 
    
    Remarks
    -----=
    This function runs in a thread until the thread is terminated by the `crud_http_server` calling function. 

    &#34;&#34;&#34;
    self.server = HTTPServer(self.server_address, CRUDRequestHandler)
    print(f&#39;Starting HTTP CRUD server on port 8000...&#39;)
    self.server.serve_forever()</code></pre>
</details>
</dd>
<dt id="code.apps.http_samples.HttpSamples.run_simple_client"><code class="name flex">
<span>def <span class="ident">run_simple_client</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Issues a <code>GET</code> request to the server, retrieves the response from the server, and displays it.
</p>
<h2 id="remarks">Remarks</h2>
<p>This function runs in a thread until it completes its task and the thread is terminated.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def run_simple_client(self):
    &#34;&#34;&#34;
    Issues a `GET` request to the server, retrieves the response from the server, and displays it.  

    Remarks
    -----=
    This function runs in a thread until it completes its task and the thread is terminated. 

    &#34;&#34;&#34;
    conn = HTTPConnection(self.host, self.port)
    conn.request(&#39;GET&#39;, &#39;/&#39;)
    response = conn.getresponse()
    print(response.read().decode())</code></pre>
</details>
</dd>
<dt id="code.apps.http_samples.HttpSamples.run_simple_server"><code class="name flex">
<span>def <span class="ident">run_simple_server</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Starts the HTTP simple server. </p>
<h2 id="remarks">Remarks</h2>
<p>This function runs in a thread until the thread is terminated by the <code>simple_http_server</code> calling function.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def run_simple_server(self):
    &#34;&#34;&#34;
    Starts the HTTP simple server. 
    
    Remarks
    -----=
    This function runs in a thread until the thread is terminated by the `simple_http_server` calling function. 

    &#34;&#34;&#34;
    self.server = HTTPServer(self.server_address, SimpleRequestHandler)
    self.server.serve_forever()</code></pre>
</details>
</dd>
<dt id="code.apps.http_samples.HttpSamples.simple_http_server"><code class="name flex">
<span>def <span class="ident">simple_http_server</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Starts the server and client threads.
</p>
<h2 id="remarks">Remarks</h2>
<p>This function sets a delay of 3 sec to allow the client thread
to print to the console the response from the server.</p>
<p>It also execute a while loop waiting for the client thread to terminate. If you change the delay, to 2 sec for example, the message <code>Client thread still running</code> is displayed several times until the client thread terminates. </p>
<p>After that the function terminate the server thread shutting its forever loop, so allowing the control to go back to the <code>http_menu.py</code> module.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def simple_http_server(self):
    &#34;&#34;&#34;
    Starts the server and client threads.   

    Remarks
    -----=
    This function sets a delay of 3 sec to allow the client thread 
    to print to the console the response from the server.

    It also execute a while loop waiting for the client thread to terminate. If you change the delay, to 2 sec for example, the message `Client thread still running` is displayed several times until the client thread terminates. 
    
    After that the function terminate the server thread shutting its forever loop, so allowing the control to go back to the `http_menu.py` module.   

    &#34;&#34;&#34;

    server_thread = Thread(target=self.run_simple_server) 
    server_thread.start()  
    client_thread = Thread(target=self.run_simple_client)
    client_thread.start()
    
    # This delay is to allow the client thread 
    # to print to the console. 
    sleep(3)

    while client_thread.is_alive():
        # To experiment: print this in a loop by 
        # setting the sleep time to 2 seconds.
        print(&#39;Client thread still running&#39;)
    
    print(&#39;Client thread completed. Terminate the server thread also.  &#39;)
    # Terminate the server thread. 
    self.server.shutdown()</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="code.apps.http_samples.SimpleRequestHandler"><code class="flex name class">
<span>class <span class="ident">SimpleRequestHandler</span></span>
<span>(</span><span>request, client_address, server)</span>
</code></dt>
<dd>
<div class="desc"><p>This class defines a <code>SimpleHTTPRequestHandler</code> that
subclasses <code>BaseHTTPRequestHandler</code> from the <code>http.server</code> module. The
<code>do_GET</code> method is called whenever the server receives a <code>GET</code> request, and it sends a fixed response to the client with a status
code of <code>200 (OK)</code> and the body "Hello, World!".</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class SimpleRequestHandler(BaseHTTPRequestHandler):
    &#39;&#39;&#39;  
    This class defines a `SimpleHTTPRequestHandler` that
    subclasses `BaseHTTPRequestHandler` from the `http.server` module. The
    `do_GET` method is called whenever the server receives a `GET` request, and it sends a fixed response to the client with a status
    code of `200 (OK)` and the body &#34;Hello, World!&#34;.

    &#39;&#39;&#39;

    def _send_response(self, message):
        &#34;&#34;&#34;
        Echoes back the message sent by the client.
        
        Parameters
        ----------
        message : str 
            The message sent by the client end echoed back by the server.
  
        &#34;&#34;&#34;
        self.send_response(200)
        self.send_header(&#39;Content-type&#39;, &#39;text/html&#39;)
        self.end_headers()
        self.wfile.write(bytes(message, &#34;utf8&#34;))

    def do_GET(self):
        &#34;&#34;&#34;
        Handles the `GET` requests
        &#34;&#34;&#34;
        message = &#34;Hello, World!&#34;
        self._send_response(message)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>http.server.BaseHTTPRequestHandler</li>
<li>socketserver.StreamRequestHandler</li>
<li>socketserver.BaseRequestHandler</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="code.apps.http_samples.SimpleRequestHandler.do_GET"><code class="name flex">
<span>def <span class="ident">do_GET</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Handles the <code>GET</code> requests</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def do_GET(self):
    &#34;&#34;&#34;
    Handles the `GET` requests
    &#34;&#34;&#34;
    message = &#34;Hello, World!&#34;
    self._send_response(message)</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul>
<li><a href="#remarks">Remarks</a></li>
</ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="code.apps" href="index.html">code.apps</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="code.apps.http_samples.CRUDRequestHandler" href="#code.apps.http_samples.CRUDRequestHandler">CRUDRequestHandler</a></code></h4>
<ul class="">
<li><code><a title="code.apps.http_samples.CRUDRequestHandler.do_DELETE" href="#code.apps.http_samples.CRUDRequestHandler.do_DELETE">do_DELETE</a></code></li>
<li><code><a title="code.apps.http_samples.CRUDRequestHandler.do_GET" href="#code.apps.http_samples.CRUDRequestHandler.do_GET">do_GET</a></code></li>
<li><code><a title="code.apps.http_samples.CRUDRequestHandler.do_POST" href="#code.apps.http_samples.CRUDRequestHandler.do_POST">do_POST</a></code></li>
<li><code><a title="code.apps.http_samples.CRUDRequestHandler.do_PUT" href="#code.apps.http_samples.CRUDRequestHandler.do_PUT">do_PUT</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="code.apps.http_samples.HttpSamples" href="#code.apps.http_samples.HttpSamples">HttpSamples</a></code></h4>
<ul class="two-column">
<li><code><a title="code.apps.http_samples.HttpSamples.crud_http_server" href="#code.apps.http_samples.HttpSamples.crud_http_server">crud_http_server</a></code></li>
<li><code><a title="code.apps.http_samples.HttpSamples.run_crud_client" href="#code.apps.http_samples.HttpSamples.run_crud_client">run_crud_client</a></code></li>
<li><code><a title="code.apps.http_samples.HttpSamples.run_crud_server" href="#code.apps.http_samples.HttpSamples.run_crud_server">run_crud_server</a></code></li>
<li><code><a title="code.apps.http_samples.HttpSamples.run_simple_client" href="#code.apps.http_samples.HttpSamples.run_simple_client">run_simple_client</a></code></li>
<li><code><a title="code.apps.http_samples.HttpSamples.run_simple_server" href="#code.apps.http_samples.HttpSamples.run_simple_server">run_simple_server</a></code></li>
<li><code><a title="code.apps.http_samples.HttpSamples.simple_http_server" href="#code.apps.http_samples.HttpSamples.simple_http_server">simple_http_server</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="code.apps.http_samples.SimpleRequestHandler" href="#code.apps.http_samples.SimpleRequestHandler">SimpleRequestHandler</a></code></h4>
<ul class="">
<li><code><a title="code.apps.http_samples.SimpleRequestHandler.do_GET" href="#code.apps.http_samples.SimpleRequestHandler.do_GET">do_GET</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>